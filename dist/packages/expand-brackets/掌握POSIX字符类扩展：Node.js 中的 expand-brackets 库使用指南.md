---
title: "æŒæ¡POSIXå­—ç¬¦ç±»æ‰©å±•ï¼šNode.js ä¸­çš„ expand-brackets åº“ä½¿ç”¨æŒ‡å—"
tags: [Node.js, æ­£åˆ™è¡¨è¾¾å¼, å­—ç¬¦ç±», æ¨¡å¼åŒ¹é…]
desc: æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åœ¨Node.jsé¡¹ç›®ä¸­ä½¿ç”¨expand-bracketsåº“æ¥è¿›è¡ŒPOSIXå­—ç¬¦ç±»æ‰©å±•ï¼Œé€šè¿‡ä¸°å¯Œçš„ä»£ç ç¤ºä¾‹ï¼Œè®©ä½ å¿«é€ŸæŒæ¡è¿™ä¸€å¼ºå¤§åŠŸèƒ½ã€‚
pkgName: expand-brackets
---

# æŒæ¡POSIXå­—ç¬¦ç±»æ‰©å±•ï¼šNode.js ä¸­çš„ expand-brackets åº“ä½¿ç”¨æŒ‡å—

POSIXå­—ç¬¦ç±»æ‰©å±•åœ¨æ¨¡å¼åŒ¹é…ä¸­æ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ï¼Œ`expand-brackets`åº“æä¾›äº†ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„è§£å†³æ–¹æ¡ˆï¼Œè®©ä½ å¯ä»¥åœ¨Node.jsä¸­è½»æ¾å®ç°è¿™ä¸€åŠŸèƒ½ã€‚æœ¬æ–‡å°†é€šè¿‡å®ä¾‹å¼•å¯¼ä½ å¦‚ä½•ä½¿ç”¨æ­¤åº“æ¥ç®€åŒ–å’ŒåŠ å¼ºä½ çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…ã€‚

## ğŸ“¦ å®‰è£… expand-brackets

åœ¨æ·±å…¥ä½¿ç”¨ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦åœ¨ä½ çš„Node.jsé¡¹ç›®ä¸­å®‰è£…`expand-brackets`ã€‚

```bash
npm install --save expand-brackets
```

æˆ–è€…ä½¿ç”¨yarnè¿›è¡Œå®‰è£…ï¼š

```bash
yarn add expand-brackets
```

## ğŸ“˜ å¦‚ä½•ä½¿ç”¨

è¦å¼€å§‹ä½¿ç”¨`expand-brackets`ï¼Œä½ éœ€è¦åœ¨ä½ çš„JavaScriptæ–‡ä»¶ä¸­å¼•å…¥å®ƒï¼Œå¹¶ä¼ å…¥ç›¸åº”çš„å‚æ•°ã€‚

```javascript
const brackets = require('expand-brackets');

// ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡å¼
console.log(brackets('[![:lower:]]'));
// è¾“å‡ºï¼š'[^a-z]'

// ä½ ä¹Ÿå¯ä»¥ä¼ é€’optionså¯¹è±¡
console.log(brackets('[![:lower:]]', { /* options */ }));
```

## ğŸš€ é€šè¿‡æ¡ˆä¾‹ç†è§£åŸºç¡€ç”¨æ³•

### åŸºç¡€å­—ç¬¦ä¸²è½¬æ¢

å¦‚æœä½ æƒ³è¦å°†ä¸€ä¸ªåŒ…å«äº†POSIXå­—ç¬¦ç±»çš„å­—ç¬¦ä¸²æ¨¡å¼è½¬æ¢ä¸ºå¯ä»¥ç”¨æ¥åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ï¼Œ`expand-brackets`éå¸¸å®ç”¨ã€‚

```javascript
console.log(brackets('[[:alpha:]]'));
//=> '[a-zA-Z]'
```

### é…å¯¹å­—ç¬¦ä¸²

å½“ä½ æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¹¶æƒ³è¦æŒ‘é€‰å‡ºä¸æ¨¡å¼åŒ¹é…çš„å­—ç¬¦ä¸²æ—¶ï¼Œ`.match`æ–¹æ³•ä¼šéå¸¸æœ‰å¸®åŠ©ã€‚

```javascript
// è¿‡æ»¤å‡ºåªåŒ…å«å­—æ¯çš„å­—ç¬¦ä¸²
console.log(brackets.match(['1', 'a', 'ab'], '[[:alpha:]]'));
//=> ['a']

// ç•™ä¸‹è¿ç»­çš„å­—æ¯å­—ç¬¦ä¸²
console.log(brackets.match(['1', 'a', 'ab'], '[[:alpha:]]+'));
//=> ['a', 'ab']
```

### æ£€æµ‹åŒ¹é…

`.isMatch`æ–¹æ³•è®©æˆ‘ä»¬èƒ½æ£€æŸ¥ä¸€ä¸ªç‰¹å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ä¸ç»™å®šçš„æ¨¡å¼åŒ¹é…ã€‚

```javascript
console.log(brackets.isMatch('a.a', '[[:alpha:]].[[:alpha:]]'));
//=> true
```

### åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼

æœ‰æ—¶ç›´æ¥åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ›´ç›´è§‚ï¼Œ`makeRe`æ–¹æ³•å¯ä»¥ç›´æ¥åŸºäºæ¨¡å¼ç”ŸæˆRegExpå®ä¾‹ã€‚

```javascript
const re = brackets.makeRe('[[:alpha:]]');
console.log(re);
//=> /^(?:[a-zA-Z])$/
```

## ğŸ›  è¿›é˜¶ç”¨æ³•å’Œé€‰é¡¹

### è‡ªåŠ¨ç”Ÿæˆæºæ˜ å°„

`expand-brackets`è¿˜æä¾›äº†â€œsourcemapâ€é€‰é¡¹ï¼Œè¯¥é€‰é¡¹å¯ä»¥åœ¨è½¬æ¢æ¨¡å¼æ—¶ç”Ÿæˆæºæ˜ å°„ï¼Œè¿™åœ¨è°ƒè¯•æˆ–ä¼˜åŒ–ä»£ç æ—¶éå¸¸æœ‰ç”¨ã€‚

```javascript
const res = brackets('[:alpha:]', { sourcemap: true });
console.log(res.map);
// è¾“å‡ºæºæ˜ å°„è¯¦æƒ…
```

## ğŸ”– æ”¯æŒçš„POSIXå­—ç¬¦ç±»

`expand-brackets`æ”¯æŒå¤šç§POSIXå­—ç¬¦ç±»ï¼Œä½¿æ¨¡å¼åŒ¹é…æ›´åŠ ä¸°å¯Œå’Œç²¾ç¡®ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„POSIXå­—ç¬¦ç±»ç¤ºä¾‹ï¼š

- `[:alnum:]`ï¼šæ•°å­—å’Œå­—æ¯
- `[:digit:]`ï¼šæ•°å­—
- `[:lower:]`ï¼šå°å†™å­—æ¯
- `[:upper:]`ï¼šå¤§å†™å­—æ¯
- `[:blank:]`ï¼šç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦
- ... æ›´å¤šå‚é˜…æ–‡æ¡£

è¯·æ³¨æ„ï¼ŒæŸäº›POSIXå­—ç¬¦ç±»ï¼Œå¦‚ç­‰ä»·ç±»æˆ–POSIX.2æ’åºç¬¦å·åœ¨`expand-brackets`ä¸­ä¸è¢«æ”¯æŒã€‚

ä½¿ç”¨`expand-brackets`å¯ä»¥å¤§å¤§ç®€åŒ–æ­£åˆ™è¡¨è¾¾å¼çš„ç¼–å†™ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤æ‚çš„å­—ç¬¦é›†åˆæ—¶ã€‚è¿™ä¸ªnpmåŒ…çš„çµæ´»æ€§å’Œå¼ºå¤§çš„åŠŸèƒ½è®©å®ƒæˆä¸ºå¤„ç†æ–‡æœ¬å’Œæ¨¡å¼åŒ¹é…çš„å¾—åŠ›å·¥å…·ã€‚

> ä»“åº“åœ°å€ï¼šhttps://github.com/micromatch/expand-brackets

æ¬¢è¿å°è¯•`expand-brackets`ï¼Œå¹¶åˆ©ç”¨å®ƒæä¾›çš„å¼ºå¤§ç‰¹æ€§æ¥å¢å¼ºä½ çš„é¡¹ç›®ï¼