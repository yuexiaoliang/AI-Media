---
title: æ¸…é™¤ç»ˆç«¯å­—ç¬¦ä¸²ä¸­çš„ANSIé¢œè‰²ç ï¼šstrip-ansiå¿«é€Ÿä¸Šæ‰‹æŒ‡å—
tags: [Node.js, å‰ç«¯å¼€å‘, å‘½ä»¤è¡Œå·¥å…·, strip-ansi]
desc: æ°´æ·±ç«çƒ­çš„æ—¥å¿—æ–‡ä»¶ï¼Ÿç”¨strip-ansiæ¥æ¸…é™¤å®ƒä»¬çš„ANSIé¢œè‰²ç ï¼Œè¿˜ä½ çº¯å‡€çš„æ–‡æœ¬ï¼
pkgName: strip-ansi
---

# æ¸…é™¤ç»ˆç«¯å­—ç¬¦ä¸²ä¸­çš„ANSIé¢œè‰²ç ï¼šstrip-ansiå¿«é€Ÿä¸Šæ‰‹æŒ‡å—

åœ¨å‘½ä»¤è¡Œäº¤äº’ä¸­ï¼ŒANSIé¢œè‰²ç èƒ½å¤Ÿè®©è¾“å‡ºå˜å¾—äº”å½©æ–‘æ–“ï¼Œä½†åœ¨æ–‡æ¡£å¤„ç†æˆ–æ—¥å¿—åˆ†ææ—¶ï¼Œè¿™äº›é¢œè‰²ç¼–ç å¾€å¾€å˜å¾—å¤šä½™ä¸”å¹²æ‰°ä¿¡æ¯çš„æå–ã€‚ä»Šå¤©ï¼Œæˆ‘å°†ç”¨strip-ansiè¿™ä¸ªç¥å™¨å¸®åŠ©ä½ å¿«é€Ÿæ¸…é™¤è¿™äº›ä¸å¿…è¦çš„é¢œè‰²ç ã€‚

## ğŸ“¦ å®‰è£…strip-ansi

æƒ³è¦ä½¿ç”¨strip-ansiï¼Œé¦–å…ˆéœ€è¦é€šè¿‡npmè¿›è¡Œå®‰è£…ã€‚æ‰“å¼€ä½ çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
$ npm install strip-ansi
```

æˆåŠŸå®‰è£…åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­å¼•å…¥strip-ansiäº†ã€‚

## ğŸ›  ä½¿ç”¨æ–¹æ³•

strip-ansiçš„ä½¿ç”¨éå¸¸ç›´è§‚ï¼Œå¯¼å…¥æ¨¡å—åï¼Œä½¿ç”¨å®ƒæä¾›çš„å‡½æ•°å³å¯å»é™¤å­—ç¬¦ä¸²ä¸­çš„ANSI escape codesã€‚ä¸‹é¢ç»™å‡ºä¸€äº›åŸºæœ¬çš„ä½¿ç”¨ç¤ºä¾‹ï¼š

```javascript
// å¯¼å…¥strip-ansiæ¨¡å—
import stripAnsi from 'strip-ansi';

// æœ‰é¢œè‰²ç¼–ç çš„å­—ç¬¦ä¸²
const coloredString = '\u001B[4mUnicorn\u001B[0m';

// å»é™¤é¢œè‰²ç¼–ç åçš„å­—ç¬¦ä¸²
const plainString = stripAnsi(coloredString);
console.log(plainString); //=> 'Unicorn'
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«ANSIé¢œè‰²ç çš„å­—ç¬¦ä¸²`coloredString`ã€‚ä½¿ç”¨`stripAnsi`å‡½æ•°å¤„ç†è¿™ä¸ªå­—ç¬¦ä¸²åï¼Œ`plainString`å°±å˜æˆäº†æ²¡æœ‰ä»»ä½•é¢œè‰²ç çš„çº¯å‡€æ–‡æœ¬ã€‚

### è¿›é˜¶ä½¿ç”¨

strip-ansiè¿˜å¯ä»¥ç”¨æ¥å¤„ç†åŒ…å«é“¾æ¥çš„ANSI escape codesï¼š

```javascript
// å«æœ‰é“¾æ¥çš„é¢œè‰²ç¼–ç å­—ç¬¦ä¸²
const linkedString = '\u001B]8;;https://github.com\u0007Click\u001B]8;;\u0007';

// æ¸…é™¤é¢œè‰²ç¼–ç åçš„å­—ç¬¦ä¸²
const resultString = stripAnsi(linkedString);
console.log(resultString); //=> 'Click'
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`linkedString`åŒ…å«äº†ä¸€ä¸ªéšè—çš„é“¾æ¥ï¼Œä½†é€šè¿‡strip-ansiå¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°æå–å‡ºå®é™…çš„æ–‡å­—å†…å®¹ã€‚

## ğŸ§° ç›¸å…³å·¥å…·

ä½¿ç”¨strip-ansiçš„åŒæ—¶ï¼Œä¹Ÿå¯ä»¥å…³æ³¨ä¸€äº›ç›¸å…³çš„å·¥å…·ï¼š

- [strip-ansi-cli](https://github.com/chalk/strip-ansi-cli): è¿™ä¸ªå‘½ä»¤è¡Œå·¥å…·å¯ä»¥è®©ä½ ç›´æ¥åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨strip-ansiï¼Œéå¸¸é€‚åˆå¤„ç†æ–‡ä»¶æˆ–ç®¡é“æµä¸­çš„æ–‡æœ¬ã€‚
- [strip-ansi-stream](https://github.com/chalk/strip-ansi-stream): å¦‚æœä½ éœ€è¦å¤„ç†çš„æ˜¯æµå¼æ•°æ®ï¼Œè¿™ä¸ªå·¥å…·æä¾›äº†ä¸€ä¸ªæµçš„æ¥å£ï¼Œå¯ä»¥ç”¨æ¥å»é™¤æµä¸­çš„ANSIé¢œè‰²ç ã€‚
- æŸ¥çœ‹[strip-ansi](https://github.com/chalk/strip-ansi)çš„å®˜æ–¹ä»“åº“äº†è§£æ›´å¤šä¿¡æ¯ã€‚

é€šè¿‡è¿™ç¯‡ç®€æ˜çš„ä»‹ç»ï¼Œç›¸ä¿¡ä½ å·²ç»èƒ½å¤Ÿæ„‰å¿«åœ°ä½¿ç”¨strip-ansiæ¥å¤„ç†ä½ çš„æ–‡æœ¬äº†ã€‚ä¸è¦è®©ANSIé¢œè‰²ç æˆä¸ºä½ çš„å™©æ¢¦ï¼Œè®©strip-ansiå¸®ä½ æ•´ç†ä¸€åˆ‡ï¼