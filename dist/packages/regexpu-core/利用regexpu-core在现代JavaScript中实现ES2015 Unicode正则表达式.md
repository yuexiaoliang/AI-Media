---
title: "åˆ©ç”¨regexpu-coreåœ¨ç°ä»£JavaScriptä¸­å®ç°ES2015 Unicodeæ­£åˆ™è¡¨è¾¾å¼"
tags: ["JavaScript", "æ­£åˆ™è¡¨è¾¾å¼", "Unicode", "ES2015", "å‰ç«¯å¼€å‘"]
desc: "æ·±å…¥æ¢ç´¢regexpu-coreï¼Œä¸€ä¸ªå¼ºå¤§çš„åº“ï¼Œä½¿å¾—åœ¨ä»Šæ—¥çš„JavaScriptä»£ç ä¸­ä½¿ç”¨ES2015 Unicode æ­£åˆ™è¡¨è¾¾å¼æˆä¸ºå¯èƒ½ã€‚"
pkgName: "regexpu-core"
---

# åˆ©ç”¨regexpu-coreåœ¨ç°ä»£JavaScriptä¸­å®ç°ES2015 Unicodeæ­£åˆ™è¡¨è¾¾å¼

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»»ä½•ç¼–ç¨‹è¯­è¨€ä¸­å¤„ç†æ–‡æœ¬çš„æœ‰åŠ›å·¥å…·ã€‚éšç€ES2015çš„æ¨å‡ºï¼ŒJavaScriptå¼•å…¥äº†å¯¹Unicodeçš„å…¨æ–°æ”¯æŒï¼Œç‰¹åˆ«æ˜¯é€šè¿‡`u`ä¿®é¥°ç¬¦ã€‚ç„¶è€Œï¼Œè¦åœ¨æ—§ç‰ˆJavaScriptç¯å¢ƒä¸­ä½¿ç”¨è¿™äº›æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè½¬æ¢å™¨ã€‚è¿™å°±æ˜¯`regexpu-core`é—ªäº®ç™»åœºçš„æ—¶åˆ»ã€‚æœ¬æ–‡å°†æ·±å…¥è®²è§£å¦‚ä½•ä½¿ç”¨`regexpu-core`ï¼Œå¸¦ä½ é¢†ç•¥å…¶å¼ºå¤§ä¹‹å¤„ã€‚

## ğŸš€ å®‰è£…å’ŒåŸºæœ¬ç”¨æ³•

é¦–å…ˆï¼Œä½ éœ€è¦é€šè¿‡npmå®‰è£…`regexpu-core`ã€‚

```shell
npm install regexpu-core --save
```

å®‰è£…å®Œæˆåï¼Œå°±å¯ä»¥åœ¨ä½ çš„é¡¹ç›®ä¸­å¼•å…¥å¹¶ä½¿ç”¨å®ƒäº†ã€‚

```javascript
const rewritePattern = require('regexpu-core');

// ä½¿ç”¨`u`ä¿®é¥°ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ç¤ºä¾‹
const pattern = '\\u{1F680}';
const flags = 'u';
const rewritten = rewritePattern(pattern, flags, { unicodeFlag: "transform" });

console.log(rewritten);
// è¾“å‡ºè½¬æ¢åçš„ES5å…¼å®¹æ­£åˆ™è¡¨è¾¾å¼
```

## ğŸŒŸ é‡å†™æ­£åˆ™è¡¨è¾¾å¼

`regexpu-core`çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯`rewritePattern`å‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿå°†ä½¿ç”¨ES2015çš„`u`ä¿®é¥°ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼è½¬æ¢ä¸ºES5å…¼å®¹çš„å½¢å¼ã€‚

### åŸºæœ¬ç¤ºä¾‹

```javascript
// è½¬æ¢åŒ…å«Unicodeå­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼
console.log(rewritePattern('foo.bar', 'u', { unicodeFlag: "transform" }));
// â†’ è½¬æ¢åçš„æ­£åˆ™è¡¨è¾¾å¼

// è½¬æ¢ä½¿ç”¨Unicodeå±æ€§è½¬ä¹‰çš„æ­£åˆ™è¡¨è¾¾å¼
console.log(rewritePattern('\\p{Script=Hiragana}', 'u', { unicodePropertyEscapes: 'transform' }));
// â†’ è½¬æ¢åçš„æ­£åˆ™è¡¨è¾¾å¼
```

### è½¬æ¢é€‰é¡¹

`regexpu-core`æä¾›äº†å¤šç§é€‰é¡¹ï¼Œä»¥æ§åˆ¶è½¬æ¢çš„è¡Œä¸ºã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦å¯ç”¨æˆ–ç¦ç”¨è¿™äº›ç‰¹æ€§ã€‚

```javascript
// å¯ç”¨`dotAll`ä¿®é¥°ç¬¦çš„è½¬æ¢
console.log(rewritePattern('.', 's', { dotAllFlag: 'transform' }));
// â†’ '[\\0-\\uFFFF]'

// åŒ…å«å‘½åæ•è·ç»„çš„æ­£åˆ™è¡¨è¾¾å¼
console.log(rewritePattern('(?<name>.)\\k<name>', '', { namedGroups: 'transform' }));
// â†’ è½¬æ¢åæ”¯æŒES5çš„æ­£åˆ™è¡¨è¾¾å¼
```

è¿™äº›ç¤ºä¾‹åªæ˜¯å†°å±±ä¸€è§’ã€‚`regexpu-core`æ”¯æŒå¤šç§è½¬æ¢é€‰é¡¹ï¼ŒåŒ…æ‹¬å¯¹Unicodeå±æ€§è½¬ä¹‰ã€ç‚¹å·å…¨éƒ¨ç¬¦å·ï¼ˆ.`s`ï¼‰ã€å‘½åæ•è·ç»„ç­‰çš„å¤„ç†ã€‚

> ä»“åº“åœ°å€ï¼šhttps://github.com/mathiasbynens/regexpu-core

ç†è§£`regexpu-core`çš„å¼ºå¤§ä¹‹å¤„ï¼Œå¯ä»¥è®©ä½ æ›´çµæ´»åœ°å¤„ç†å’Œå…¼å®¹å„ç§JavaScriptç¯å¢ƒä¸­çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå°¤å…¶æ˜¯å½“ä½ éœ€è¦åœ¨ä¸æ”¯æŒES2015æ–°ç‰¹æ€§çš„ç¯å¢ƒä¸­è¿è¡Œä»£ç æ—¶ã€‚æ— è®ºæ˜¯ä¸ºäº†æ”¹å–„ä»£ç çš„å…¼å®¹æ€§ï¼Œè¿˜æ˜¯ä¸ºäº†åˆ©ç”¨æœ€æ–°çš„æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ€§ï¼Œ`regexpu-core`éƒ½æ˜¯ä¸€ä¸ªå€¼å¾—æ¢ç´¢çš„å¼ºå¤§å·¥å…·ã€‚