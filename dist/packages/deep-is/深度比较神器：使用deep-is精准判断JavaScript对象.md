---
title: "æ·±åº¦æ¯”è¾ƒç¥å™¨ï¼šä½¿ç”¨deep-isç²¾å‡†åˆ¤æ–­JavaScriptå¯¹è±¡"
tags: ["JavaScript", "Node.js", "æ·±åº¦æ¯”è¾ƒ", "åº“"]
desc: "æœ¬æ–‡å°†å¼•å¯¼æ‚¨æ·±å…¥äº†è§£å¦‚ä½•ä½¿ç”¨deep-isåº“æ¥å‡†ç¡®æ¯”è¾ƒJavaScriptä¸­çš„å¯¹è±¡å’Œæ•°ç»„ï¼Œå³ä½¿å®ƒä»¬åŒ…å«NaNå€¼ã€‚"
pkgName: "deep-is"
---

# æ·±åº¦æ¯”è¾ƒç¥å™¨ï¼šä½¿ç”¨deep-isç²¾å‡†åˆ¤æ–­JavaScriptå¯¹è±¡

åœ¨å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°éœ€è¦æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æˆ–æ•°ç»„æ˜¯å¦ç›¸ç­‰çš„æƒ…å†µã€‚JavaScriptåŸç”Ÿæä¾›çš„æ¯”è¾ƒæ–¹æ³•å¾€å¾€ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œå°¤å…¶æ˜¯å½“å¯¹è±¡ç»“æ„å¤æ‚æˆ–åŒ…å«ç‰¹æ®Šå€¼å¦‚`NaN`æ—¶ã€‚æœ¬æ–‡ä»‹ç»çš„`deep-is`åº“æ­£æ˜¯è§£å†³è¿™ä¸€éš¾é¢˜çš„åˆ©å™¨ã€‚

## ğŸ“¦ å®‰è£…

åœ¨å¼€å§‹ä½¿ç”¨`deep-is`ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦å°†å®ƒä½œä¸ºä¾èµ–æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯ä»¥è½»æ¾å®Œæˆå®‰è£…ï¼š

```bash
npm install deep-is
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

`deep-is`çš„ä½¿ç”¨éå¸¸ç›´æ¥ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æˆ–æ•°ç»„ï¼Œè¿”å›å®ƒä»¬æ˜¯å¦æ·±åº¦ç›¸ç­‰çš„å¸ƒå°”å€¼ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºæœ¬ç¤ºä¾‹ï¼š

```javascript
var equal = require('deep-is');

console.log(equal(
    { a: [2, 3], b: [4] },
    { a: [2, 3], b: [4] }
)); // è¾“å‡ºï¼štrue

console.log(equal(
    { x: 5, y: [6] },
    { x: 5, y: 6 }
)); // è¾“å‡ºï¼šfalse
```

è¯¥åº“çš„ä¸€ä¸ªå…³é”®ä¼˜åŠ¿æ˜¯æ­£ç¡®å¤„ç†`NaN`å€¼ï¼Œè¿™åœ¨JavaScriptä¸­æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„æŒ‘æˆ˜ï¼Œå› ä¸ºæŒ‰ç…§ECMAScriptè§„èŒƒï¼Œ`NaN`ä¸ä»»ä½•å€¼ï¼ˆåŒ…æ‹¬å…¶æœ¬èº«ï¼‰çš„æ¯”è¾ƒéƒ½å°†è¿”å›`false`ã€‚ç„¶è€Œï¼Œ`deep-is`å°†`NaN`è§†ä¸ºç­‰åŒäºè‡ªå·±ï¼Œä»è€Œæ›´ç¬¦åˆå®é™…çš„ä½¿ç”¨åœºæ™¯éœ€æ±‚ã€‚

```javascript
console.log(equal(
    { value: NaN },
    { value: NaN }
)); // è¾“å‡ºï¼štrue
```

## ğŸ§© è¿›é˜¶åº”ç”¨

ç”±äº`deep-is`æä¾›çš„æ˜¯æ·±åº¦æ¯”è¾ƒçš„åŠŸèƒ½ï¼Œå®ƒç‰¹åˆ«é€‚åˆç”¨äºé‚£äº›éœ€è¦ç²¾ç¡®æ ¡éªŒæ•°æ®ç»“æ„çš„åœºæ™¯ï¼Œæ¯”å¦‚å•å…ƒæµ‹è¯•ã€æ•°æ®æ ¡éªŒç­‰ã€‚ä»¥ä¸‹æ˜¯åœ¨å•å…ƒæµ‹è¯•ä¸­ä½¿ç”¨`deep-is`çš„ä¸€ä¸ªç¤ºä¾‹ï¼š

```javascript
var assert = require('assert');
var equal = require('deep-is');

// å•å…ƒæµ‹è¯•ç”¨ä¾‹
describe('å¤æ‚å¯¹è±¡æ¯”è¾ƒ', function() {
    it('should correctly compare complex objects', function() {
        var obj1 = {
            a: [1, 2, 3],
            b: {
                c: NaN,
                d: 'test'
            }
        };
        
        var obj2 = {
            a: [1, 2, 3],
            b: {
                c: NaN,
                d: 'test'
            }
        };
        
        assert(equal(obj1, obj2)); // æœŸæœ›ï¼šé€šè¿‡
    });
});
```

## ç»“è¯­

`deep-is`åº“ç®€æ´é«˜æ•ˆåœ°è§£å†³äº†æ·±åº¦æ¯”è¾ƒJavaScriptå¯¹è±¡æ—¶é¢ä¸´çš„æŒ‘æˆ˜ã€‚ä¸è®ºæ‚¨æ˜¯åœ¨è¿›è¡Œå•å…ƒæµ‹è¯•ã€æ•°æ®éªŒè¯è¿˜æ˜¯å…¶ä»–éœ€è¦å¤æ‚å¯¹è±¡æ¯”è¾ƒçš„åœºæ™¯ï¼Œ`deep-is`éƒ½èƒ½ä¸ºæ‚¨æä¾›ç²¾å‡†çš„æ¯”è¾ƒç»“æœã€‚

> ä»“åº“åœ°å€ï¼šhttps://github.com/thlorenz/deep-is