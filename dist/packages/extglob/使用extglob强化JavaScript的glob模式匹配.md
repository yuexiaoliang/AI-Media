---
title: ä½¿ç”¨extglobå¼ºåŒ–JavaScriptçš„globæ¨¡å¼åŒ¹é…
tags: [Node.js, glob, æ­£åˆ™è¡¨è¾¾å¼, å‰ç«¯å¼€å‘]
desc: æ·±å…¥äº†è§£å¦‚ä½•é€šè¿‡extglobåŒ…ï¼Œåœ¨JavaScriptä¸­å®ç°å¼ºå¤§å’Œçµæ´»çš„globæ¨¡å¼åŒ¹é…ï¼Œä»è€Œè·å¾—æ¥è¿‘æ­£åˆ™è¡¨è¾¾å¼çš„è¡¨ç°åŠ›ã€‚
pkgName: extglob
---

# ä½¿ç”¨extglobå¼ºåŒ–JavaScriptçš„globæ¨¡å¼åŒ¹é…

åœ¨å¤„ç†æ–‡ä»¶è·¯å¾„æˆ–è€…å…¶ä»–å­—ç¬¦ä¸²åˆ—è¡¨æ—¶ï¼Œglobæ¨¡å¼æä¾›äº†ä¸€ç§é€šé…ç¬¦è¯­æ³•ï¼Œè®©æˆ‘ä»¬å¯ä»¥å†™å‡ºç®€æ´ä¸”å¯Œæœ‰è¡¨è¾¾åŠ›çš„æŸ¥è¯¢è¡¨è¾¾å¼ã€‚ä½†æ˜¯ï¼Œæ ‡å‡†çš„globæ¨¡å¼æœ‰æ—¶å€™è¡¨ç°åŠ›ä¸å¤Ÿï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨`extglob`åŒ…æ¥å¼ºåŒ–æˆ‘ä»¬çš„æ¨¡å¼åŒ¹é…èƒ½åŠ›ã€‚

## ğŸŒŸ å®‰è£…extglob

ä¸ºäº†åœ¨é¡¹ç›®ä¸­ä½¿ç”¨`extglob`ï¼Œä½ é¦–å…ˆéœ€è¦é€šè¿‡npmæˆ–è€…yarnå°†å®ƒæ·»åŠ åˆ°ä¾èµ–ä¸­ã€‚

```bash
$ npm install --save extglob
```
æˆ–è€…
```bash
$ yarn add extglob
```

## ğŸ¯ åŸºæœ¬ä½¿ç”¨

`extglob`çš„ä¸»è¦å¯¼å‡ºæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å’Œé€‰é¡¹å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«è§£æåçš„ASTå’Œç¼–è¯‘åçš„`.output`çš„å¯¹è±¡ï¼Œè¿™ä¸ª`.output`æ˜¯ä¸€ä¸ªä¸æ­£åˆ™è¡¨è¾¾å¼å…¼å®¹çš„å­—ç¬¦ä¸²ï¼Œå¯ç”¨äºè¿›è¡ŒåŒ¹é…ã€‚

```javascript
const extglob = require('extglob');
console.log(extglob('!(xyz)*.js'));
```

è¿™ä¸ªä¾‹å­ä¼šè¾“å‡ºä¸€ä¸ªç”¨äºåŒ¹é…æ‰€æœ‰ä¸ä»¥`xyz`å¼€å¤´çš„`.js`æ–‡ä»¶çš„æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ã€‚

## ğŸ›  æ‰©å±•globæ¨¡å¼

`extglob`æ”¯æŒBashé£æ ¼çš„æ¨¡å¼åŒ¹é…ï¼Œè¿™äº›æ‰©å±•globæ¨¡å¼éå¸¸å¼ºå¤§ï¼š

```markdown
|**æ¨¡å¼**       |**æ­£åˆ™ç­‰ä»·å¼**    |**æè¿°**                           |
|--------------|-------------------|-----------------------------------|
|`?(pattern)`  |`(...|...)?`       |åŒ¹é…é›¶æ¬¡æˆ–ä¸€æ¬¡ç»™å®šæ¨¡å¼            |
|`*(pattern)`  |`(...|...)*`       |åŒ¹é…é›¶æ¬¡æˆ–å¤šæ¬¡ç»™å®šæ¨¡å¼            |
|`+(pattern)`  |`(...|...)+`       |åŒ¹é…è‡³å°‘ä¸€æ¬¡ç»™å®šæ¨¡å¼              |
|`@(pattern)`  |`(...|...)`        |åŒ¹é…ç»™å®šæ¨¡å¼ä¹‹ä¸€                  |
|`!(pattern)`  |N/A                |åŒ¹é…é™¤äº†ç»™å®šæ¨¡å¼ä¹‹å¤–çš„ä»»ä½•å†…å®¹    |
```

## ğŸ’¡ API ç¤ºä¾‹

### .isMatch()

æ£€æŸ¥æŒ‡å®šçš„å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ç»™å®šçš„extglobæ¨¡å¼ã€‚

```javascript
const extglob = require('extglob');

console.log(extglob.isMatch('a.a', '*.!(*a)')); //=> false
console.log(extglob.isMatch('a.b', '*.!(*a)')); //=> true
```

### .match()

æ¥å—å­—ç¬¦ä¸²æ•°ç»„å’Œextglobæ¨¡å¼ï¼Œè¿”å›åªåŒ…å«ä¸æ¨¡å¼åŒ¹é…çš„å­—ç¬¦ä¸²çš„æ–°æ•°ç»„ã€‚

```javascript
const extglob = require('extglob');
console.log(extglob.match(['a.a', 'a.b', 'a.c'], '*.!(*a)'));
//=> ['a.b', 'a.c']
```

### .create()

å°†ç»™å®šçš„`extglob`æ¨¡å¼è½¬æ¢ä¸ºä¸æ­£åˆ™è¡¨è¾¾å¼å…¼å®¹çš„å­—ç¬¦ä¸²ã€‚

```javascript
const extglob = require('extglob');
console.log(extglob.create('*.!(*a)').output);
//=> '(?!\\.)[^/]*?\\.(?!(?!\\.)[^/]*?a\\b).*?'
```

## âœ¨ æ€§èƒ½åŸºå‡†

`extglob`åœ¨æ€§èƒ½åŸºå‡†æµ‹è¯•ä¸­ï¼Œä¸minimatchè¿™ç±»åº“ç›¸æ¯”ï¼Œå±•ç°äº†å…¶å“è¶Šçš„æ€§èƒ½ä¸å‡†ç¡®æ€§ã€‚

```bash
# star-simpleç¤ºä¾‹
  extglob x 2,154,184 ops/sec Â±0.99% (89 runs sampled)
  minimatch x 452,812 ops/sec Â±0.51% (88 runs sampled)

  fastest is extglob (by 476% avg)
```

é€šè¿‡æ€§èƒ½åŸºå‡†æµ‹è¯•æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œ`extglob`åœ¨å¤„ç†æ›´å¤æ‚å’Œç²¾ç¡®çš„åŒ¹é…æ¨¡å¼æ—¶ï¼Œè¡¨ç°å¾—éå¸¸å¿«é€Ÿã€‚

## ğŸ“„ æ€»ç»“

`extglob`å¢å¼ºäº†ä½ åœ¨JavaScriptä¸­ä½¿ç”¨globæ¨¡å¼çš„èƒ½åŠ›ï¼Œå®ƒè®©ä½ èƒ½å¤Ÿç¼–å†™å‡ºæ—¢å…·æœ‰æ­£åˆ™è¡¨è¾¾å¼çš„è¡¨ç°åŠ›åˆå…·æœ‰globè¯­æ³•ç®€æ´æ€§çš„æ¨¡å¼åŒ¹é…ã€‚å°†å…¶åº”ç”¨äºä½ çš„é¡¹ç›®ä¸­ï¼Œæ— è®ºæ˜¯åœ¨æ„å»ºå·¥å…·ã€ä»»åŠ¡è‡ªåŠ¨åŒ–ï¼Œè¿˜æ˜¯åœ¨æ—¥å¸¸çš„æ–‡ä»¶å¤„ç†ä»»åŠ¡ä¸­ï¼Œå®ƒéƒ½èƒ½æä¾›å¼ºå¤§çš„æ”¯æŒã€‚

> ä»“åº“åœ°å€ï¼šhttps://github.com/micromatch/extglob