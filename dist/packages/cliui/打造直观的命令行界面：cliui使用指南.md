---
title: æ‰“é€ ç›´è§‚çš„å‘½ä»¤è¡Œç•Œé¢ï¼šcliuiä½¿ç”¨æŒ‡å—
tags: [Nodejs, å‘½ä»¤è¡Œ, å‰ç«¯å¼€å‘, cliui]
desc: æ¢ç´¢å¦‚ä½•ä½¿ç”¨cliuiåº“å¿«é€Ÿæ„å»ºå¤šåˆ—å¸ƒå±€çš„å‘½ä»¤è¡Œç•Œé¢ã€‚
pkgName: cliui
---

# æ‰“é€ ç›´è§‚çš„å‘½ä»¤è¡Œç•Œé¢ï¼šcliuiä½¿ç”¨æŒ‡å—

å‘½ä»¤è¡Œç•Œé¢æ˜¯ä»»ä½•CLIå·¥å…·ä¸­ç”¨æˆ·äº¤äº’çš„æ ¸å¿ƒã€‚`cliui`åº“æä¾›äº†ä¸€å¥—ç®€æ´çš„APIï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿåœ°åˆ›å»ºå‡ºç›´è§‚å¹¶ä¸”æ ¼å¼åŒ–è‰¯å¥½çš„å¤šåˆ—å‘½ä»¤è¡Œç•Œé¢ã€‚æœ¬æŒ‡å—å°†é€æ­¥å±•ç¤ºå¦‚ä½•ç”¨`cliui`ç”Ÿæˆå¤æ‚çš„CLIå¸ƒå±€ï¼Œæå‡æ‚¨å‘½ä»¤è¡Œå·¥å…·çš„ç”¨æˆ·ä½“éªŒã€‚

å‰å¾€[cliui GitHub ä»“åº“](https://github.com/yargs/cliui)æŸ¥çœ‹æ›´å¤šä¿¡æ¯ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

åœ¨nodeé¡¹ç›®ä¸­å¼€å§‹ä½¿ç”¨`cliui`æ˜¯éå¸¸ç®€å•å’Œç›´æ¥çš„ã€‚é¦–å…ˆï¼Œæ‚¨éœ€è¦é€šè¿‡npmå®‰è£…`cliui`ã€‚

```shell
npm install cliui
```

å®‰è£…å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­å¼•å…¥å¹¶ä½¿ç”¨`cliui`äº†ã€‚

```javascript
const cliui = require('cliui')();

// æ·»åŠ ä¸€äº›è¡Œå’Œåˆ—
cliui.div('Usage: $0 [command] [options]');

// è¾“å‡ºç»“æ„åŒ–çš„å‘½ä»¤è¡Œç•Œé¢
console.log(cliui.toString());
```

## ğŸ“ åˆ›å»ºå¤æ‚å¸ƒå±€

`cliui`å…è®¸æ‚¨è®¾ç½®å¤šåˆ—å¸ƒå±€ï¼Œå¹¶æ ¹æ®éœ€è¦è‡ªå®šä¹‰å®½åº¦ã€å¯¹é½ã€è¾¹è·ç­‰å±æ€§ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ›´å¤æ‚å¸ƒå±€çš„ä¾‹å­ï¼š

```javascript
const cliui = require('cliui')();
const chalk = require('chalk');

// å®šä¹‰å‘½ä»¤ç”¨æ³•
ui.div('Usage: $0 [command] [options]');

// æ·»åŠ é€‰é¡¹æè¿°
ui.div({
  text: 'Options:',
  padding: [2, 0, 1, 0]
});

// æ·»åŠ å…·æœ‰ä¸åŒé£æ ¼çš„åˆ—
ui.div(
  {
    text: "-f, --file",
    width: 20,
    padding: [0, 4, 0, 4]
  },
  {
    text: "the file to load." + chalk.green("(if this description is long it wraps)."),
    width: 40
  },
  {
    text: chalk.red("[required]"),
    align: 'right'
  }
);

// è¾“å‡ºå¸¦æœ‰æ ¼å¼åŒ–æ ·å¼çš„å‘½ä»¤è¡Œç•Œé¢
console.log(ui.toString());
```

åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨chalkåº“ä¸ºæ–‡æœ¬æ·»åŠ äº†é¢œè‰²ï¼Œä½¿è¾“å‡ºæ›´åŠ ç”ŸåŠ¨ã€‚

## ğŸ“„ å¸ƒå±€DSL

DSLï¼ˆåŸŸç‰¹å®šè¯­è¨€ï¼‰æ˜¯`cliui`çš„é«˜çº§åŠŸèƒ½ä¹‹ä¸€ã€‚å®ƒå…è®¸æ‚¨ç”¨ä¸€ç§è¿‘ä¼¼äºè‡ªç„¶è¯­è¨€çš„æ–¹å¼å®šä¹‰å¸ƒå±€ã€‚ä¾‹å¦‚ï¼š

```javascript
const ui = cliui({ width: 60 });

// ä½¿ç”¨DSLå¸ƒå±€çš„ç®€å•ä¾‹å­
ui.div('Usage: node ./bin/foo.js\n <regex>\t provide a regex\n <glob>\t provide a glob\t [required]')

// è¾“å‡ºç»“æœ
console.log(ui.toString());
```

ä½¿ç”¨DSLï¼Œä½ å¯ä»¥é€šè¿‡ç‰¹æ®Šå­—ç¬¦æ¥æ§åˆ¶è¡Œåˆ—çš„åˆ›å»ºå’Œå¸ƒå±€ï¼Œå¦‚`\n`åˆ†å‰²è¡Œï¼Œ`\t`åˆ†å‰²åˆ—ï¼Œä»è€Œä½¿å¾—å¸ƒå±€å®šä¹‰æ›´åŠ ç›´è§‚ã€‚

## âš¡ Deno/ESM æ”¯æŒ

`cliui`ä»ç‰ˆæœ¬7å¼€å§‹æ”¯æŒ[Deno](https://deno.land/)å’ŒESMï¼ˆECMAScriptæ¨¡å—ï¼‰ã€‚ä»¥ä¸‹æ˜¯åœ¨Denoä¸­ä½¿ç”¨`cliui`çš„ä¾‹å­ï¼š

```typescript
import cliui from "https://deno.land/x/cliui/deno.ts";

const ui = cliui({});

// Denoé‡Œä½¿ç”¨cliui
ui.div('Usage: $0 [command] [options]');

ui.div({
  text: "-f, --file",
  width: 20,
  padding: [0, 4, 0, 4]
});

console.log(ui.toString());
```

ä»¥ä¸Šå±•ç¤ºäº†å¦‚ä½•åœ¨Denoç¯å¢ƒä¸­å¯¼å…¥å’Œä½¿ç”¨`cliui`ã€‚

åœ¨ä½ æ„å»ºä¸‹ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·æ—¶ï¼Œè€ƒè™‘ä½¿ç”¨`cliui`æ¥å¢å¼ºä½ çš„ç”¨æˆ·ç•Œé¢ã€‚ç®€æ´å¼ºå¤§çš„APIåŠ ä¸Šçµæ´»çš„å¸ƒå±€å®šä¹‰ï¼Œå°†å¸®åŠ©ä½ èŠ‚çœæ—¶é—´å¹¶æå‡å·¥å…·çš„ä¸“ä¸šæ„Ÿã€‚