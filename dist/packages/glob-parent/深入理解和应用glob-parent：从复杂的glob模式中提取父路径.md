---
title: "æ·±å…¥ç†è§£å’Œåº”ç”¨glob-parentï¼šä»å¤æ‚çš„globæ¨¡å¼ä¸­æå–çˆ¶è·¯å¾„"
tags: ["Nodejs", "æ–‡ä»¶ç³»ç»Ÿ", "globæ¨¡å¼", "å‰ç«¯å¼€å‘"]
desc: "æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨glob-parentåŒ…æ¥å¤„ç†æ–‡ä»¶è·¯å¾„çš„globæ¨¡å¼ï¼Œæå–æœ‰æ•ˆçš„çˆ¶çº§è·¯å¾„ï¼Œå¹¶é€šè¿‡å®è·µæ¡ˆä¾‹æŒ‡å¯¼ä½ è½»æ¾æŒæ¡å…¶ç”¨æ³•ã€‚"
pkgName: "glob-parent"
---

# æ·±å…¥ç†è§£å’Œåº”ç”¨glob-parentï¼šä»å¤æ‚çš„globæ¨¡å¼ä¸­æå–çˆ¶è·¯å¾„

Globæ¨¡å¼åœ¨å‰ç«¯å·¥ç¨‹ä¸­å¸¸ç”¨äºæ–‡ä»¶åŒ¹é…ï¼Œ`glob-parent`åŒ…æä¾›äº†ä¸€ç§ç®€ä¾¿çš„æ–¹æ³•æ¥è·å–åŒ…å«globæ¨¡å¼çš„è·¯å¾„çš„çˆ¶çº§ç›®å½•ã€‚å®ƒå¯ä»¥å¸®åŠ©ä½ åœ¨æ„å»ºå·¥å…·æˆ–æ–‡ä»¶ç›‘è§†è„šæœ¬ä¸­æ›´å‡†ç¡®åœ°å®šä½ç›®æ ‡è·¯å¾„ã€‚

## ğŸ“‚ å®‰è£…glob-parent

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„é¡¹ç›®ä¸­å·²ç»å®‰è£…äº†`glob-parent`åŒ…ï¼š

```bash
npm install glob-parent
```

## ğŸš€ å¦‚ä½•ä½¿ç”¨glob-parent

`glob-parent`çš„ä¸»è¦åŠŸèƒ½æ˜¯ä»æä¾›çš„globå­—ç¬¦ä¸²ä¸­æå–éé­”æ³•ï¼ˆnon-magicï¼‰çˆ¶è·¯å¾„ã€‚è¿™é‡Œçš„â€œé­”æ³•â€(magic)æ˜¯æŒ‡globæ¨¡å¼ä¸­ç”¨äºç‰¹æ®ŠåŒ¹é…çš„ç¬¦å·ã€‚

```javascript
const globParent = require('glob-parent');

// åŸºæœ¬ç”¨æ³•å±•ç¤º
console.log(globParent('path/to/*.js')); // è¾“å‡º: 'path/to'
console.log(globParent('/*.js')); // è¾“å‡º: '/'
```

### å¤„ç†ä¸åŒç±»å‹çš„è·¯å¾„

æˆ‘ä»¬æ¥çœ‹ä¸€äº›ä¸åŒç±»å‹çš„è·¯å¾„åŠå…¶å¤„ç†ç»“æœã€‚

```javascript
// åŒ…å«èŠ±æ‹¬å·çš„è·¯å¾„
console.log(globParent('path/{to,from}')); // 'path'

// åŒ…å«`!`(å¦å®š)æ¨¡å¼
console.log(globParent('path/!(to|from)')); // 'path'

// ä»¥ä¸åŒæ–¹å¼ä½¿ç”¨é€šé…ç¬¦
console.log(globParent('path/+(to|from)')); // 'path'
console.log(globParent('path/*(to|from)')); // 'path'
console.log(globParent('path/@(to|from)')); // 'path'

// åŒ…å«é€’å½’é€šé…ç¬¦`**`
console.log(globParent('path/**/*')); // 'path'
```

### é…ç½®é€‰é¡¹

glob-parent è¿˜æä¾›äº†é€‰é¡¹æ¥æ§åˆ¶è¡Œä¸ºã€‚

```javascript
// ä½¿ç”¨flipBackslashesé€‰é¡¹æ¥å…³é—­åœ¨Windowsä¸Šçš„æ–œçº¿è‡ªåŠ¨è½¬æ¢
console.log(globParent('C:\\Project\\src\\*.js', { flipBackslashes: false }));
// è¾“å‡º: 'C:\Project\src'
```

## ğŸ› ï¸ é€ƒé€¸å­—ç¬¦å’Œé™åˆ¶

åœ¨globæ¨¡å¼ä¸­ï¼Œä¸€äº›å­—ç¬¦å…·æœ‰ç‰¹æ®Šæ„ä¹‰,å¦‚æœä½ å¸Œæœ›å®ƒä»¬è¢«å½“ä½œæ™®é€šè·¯å¾„å­—ç¬¦å¤„ç†ï¼Œéœ€è¦å¯¹å®ƒä»¬è¿›è¡Œé€ƒé€¸ã€‚

```javascript
// æ­£ç¡®é€ƒé€¸ç‰¹æ®Šå­—ç¬¦çš„ç”¨æ³•
console.log(globParent('foo/\\*bar')); // è¾“å‡º: 'foo'
console.log(globParent('foo/\\[bar\\]')); // è¾“å‡º: 'foo/[bar]'
```

## ğŸ˜µâ€ğŸ’« æ³¨æ„äº‹é¡¹

`glob-parent`å¯¹äºå„ç§globæ¨¡å¼æä¾›äº†åŸºæœ¬æ”¯æŒï¼Œä½†åœ¨é¢å¯¹å¤æ‚åœºæ™¯æ—¶å¯èƒ½éœ€è¦å…¶ä»–å·¥å…·é“¾çš„æ”¯æŒã€‚

### åœ¨Windowsç³»ç»Ÿä¸­ä½¿ç”¨

åœ¨Windowsä¸­ï¼Œè·¯å¾„ä¸­çš„åæ–œæ ä½œä¸ºglobæ¨¡å¼æ˜¯ä¸åˆæ³•çš„ï¼Œå®ƒä»¬åº”è¯¥è¢«æ›¿æ¢æˆæ­£æ–œæ ã€‚

```javascript
console.log(globParent('C:\\Program Files\\*.ext')); // è¾“å‡º: 'C:/Program Files'
```

## ğŸ“œ ç»“è¯­

`glob-parent`æ˜¯å‰ç«¯å¼€å‘ä¸­ä¸€ä¸ªéå¸¸å®ç”¨çš„å°å·¥å…·ï¼Œå®ƒèƒ½ç®€åŒ–ä½ çš„æ–‡ä»¶å¤„ç†è¿‡ç¨‹ã€‚é€šè¿‡æœ¬æ–‡çš„å‡ ä¸ªç¤ºä¾‹ï¼Œä½ åº”è¯¥å·²ç»å¯¹å¦‚ä½•ä½¿ç”¨è¿™ä¸ªåŒ…æœ‰äº†æ›´æ·±çš„ç†è§£ã€‚

> ä»“åº“åœ°å€ï¼šhttps://github.com/gulpjs/glob-parent

å¸Œæœ›ä½ åœ¨å®é™…çš„é¡¹ç›®ä¸­æœ‰æ•ˆåœ°è¿ç”¨`glob-parent`ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚